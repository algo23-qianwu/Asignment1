# 基于阻力支撑相对强度(RSRS)的市场择时


'''

该篇报告中提出了阻力支撑相对强度概念并以此构建阻力支撑相对强度指标(Resistance Support Relative Strength，简称 RSRS)。从支撑位与阻力位相对强度的变化对于未来市场状态的预测性角度挖掘其在市场择时上的应用。

'''

## 阻力支撑相对强弱概念
- 支撑位即是指标的价格在下跌时可能遇到的支撑，是交易者认为买方力量开始反超卖方使得价格在此止跌或反弹上涨的价位;
- 阻力位则是指在标的价格上涨时可能遇到的压力，是交易者认为卖方力量开始反超买方而使得价格难以继续上涨或就此回调下跌的价位。

## 阻力支撑相对强度概念及其与市场状态的对应
- 从最高价与最低价的形成机制出发，每日的最高价与最低价就是一种阻力位与支撑位，它是当日全体市场参与者的交易行为所认可的阻力与支撑。由于我们并非用支撑位与阻力位作突破或反转交易的阈值，而是更关注市场参与者们对于阻力位与支撑位的定位一致性。当日最高价与最低价能迅速反应近期市场对于阻力位与支撑位态度的性质，是我们使用最高价与最低价的最重要原因。
- 我们用相对位置变化程度，即类似 delta(high)/delta(low)的值来描述支撑位与阻力位的相对强度，即最低价每变动1的时候，最高价变动的幅度。
- 我们考虑通过最近 N 个(low， high)的数据点来得到信噪比较高的最高最低价相对变化程度，自然而然的想法即是使用线性回归：high = alpha + beta*low + epsilon， epsilon ~ N(0,sigma)
    - 当斜率值很大时，支撑强度强于阻力强度。从最高价最低价序列来看，最高价变动比最低价迅速。在上涨牛市中与下跌熊市中很可能以下图中两种走势体现:在牛市中阻力渐小，上方上涨空间大;在熊市中支撑渐强，下跌势头欲止。
    - 当斜率值很小时，阻力强度强于支撑强度。从最高价最低价序列来看，最高价变动比最低价缓慢。在上涨牛市中与下跌熊市中很可能以下图中两种 走势体现:在牛市中阻力渐强，上涨势头渐止;在熊市中支撑渐送，下方下跌空间渐大。

## 阻力支撑相对强度(RSRS)指标构建

### 1. 斜率指标

#### 指标计算
1. 取前 N 日的最高价序列与最低价序列。
2. 将两列数据上述模型进行 OLS 线性回归。 
3. 将拟合后的 beta 值作为当日 RSRS 斜率指标值。

#### 斜率指标交易策略
1. 计算 RSRS 斜率。
2. 如果斜率大于 1，则买入持有。
3. 如果斜率小于 0.8，则卖出手中持股平仓。

### 2. 标准分标值

#### 指标计算
1. 取前 M 日的斜率时间序列。
2. 以此样本计算当日斜率的标准分。
3. 将计算得到的标准分 z 作为当日 RSRS 标准分指标值。

#### 标准分指标交易策略
1. 根据斜率计算标准分(参数 N=18,M=600)。
2. 如果标准分大于 S(参数 S=0.7)，则买入持有。
3. 如果标准分小于-S，则卖出平仓。

### 3. 修正标准分指标

#### 指标计算
1. 取前 M 日的斜率时间序列。
2. 以此样本计算当日斜率的标准分。
3. 通过将标准分值与决定系数相乘得到修正标准分。

#### 修正标准分指标交易策略
1. 根据斜率计算修正标准分(参数 N=18,M=600)。
2. 如果修正标准分大于 S(参数 S=0.7)，则买入持有。
3. 如果修正标准分小于-S，则卖出平仓。

### 4. 右偏修正标准分指标

#### 指标计算
1. 取前 M 日的斜率时间序列。
2. 以此样本计算当日斜率的标准分。
3. 将修正标准分与斜率值相乘获得右偏修正标准分指标。

#### 右偏标准分指标交易策略
1. 计算右偏标准分(N=16,M=300)。
2. 如果右偏标准分大于 S(S=0.7)，则买入持有。 3. 如果右偏标准分小于-S，则卖出平仓。

### 5. RSRS指标配合量价数据优化策略

#### 价格优化交易策略
1. 计算 RSRS 标准分指标买卖信号。
2. 如果指标发出买入信号，同时满足前一日 MA(20)的值大于前三日 MA(20)的值，则买入。
3. 如果指标发出卖出信号，则卖出手中持股。
4. (如果可卖空，当指标发出卖出信号，同时满足前一日 MA(20)的值小于前三日 MA(20)的值，则卖出。)
5. (如果可卖空，当指标发出买入信号，则买入平空仓。)

### 6. 基于 RSRS 指标与交易量相关性的优化

#### 交易量相关性优化交易策略
1. 计算 RSRS 标准分指标买卖信号。
2. 如果指标发出买入信号，同时满足前 10 日交易量与修正标准分之间的相关性为正，则买入。
3. 如果指标发出卖出信号，则卖出手中持股。
4. (如果可卖空，当指标发出卖出信号，同时满足交易量与修正标准分之间的相关性为正，则卖出。)
5. (如果可卖空，当指标发出买入信号，则买入平空仓。)

## My Attribution and Thought
- 在策略中加入了初始资金、买入股数、手续费、止损等交易细节。
- 改进之处：可以进一步对研报中确定的参数（N=18， M=600）做参数的敏感性分析，以检查不同策略对参数选择的敏感性。

